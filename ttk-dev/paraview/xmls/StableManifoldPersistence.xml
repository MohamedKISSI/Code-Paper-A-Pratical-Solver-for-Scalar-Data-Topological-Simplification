<ServerManagerConfiguration>
  <ProxyGroup name="filters">
    <SourceProxy
      name="ttkStableManifoldPersistence"
      class="ttkStableManifoldPersistence"
      label="TTK StableManifoldPersistence">
      <Documentation
        long_help="TTK plugin for attaching to an input stable manifold (given by the Morse-Smale complex module) its persistence (given by the persistence diagram)."
        short_help="TTK plugin for attaching persistence on stable manifolds.">

        Given an input stable manifold (1D, 2D or 3D) computed by the 
        Morse-Smale complex, this module attaches to it the persistence (and 
        the type) of the persistence pair of the critical point it is based on 
        (i.e. the critical point where the integral lines of the manifold 
        terminate). The inputs of this filter correspond to outputs of the 
        Morse-Smale complex and Persistence diagram modules (which need to be 
        pre-exist in the analysis pipeline).
        
        - Input0: Stable manifold (1D, 2D or 3D, vtkDataSet generated by the 
        Morse-Smale complex module).
        - Input1: Critical points (vtkPolyData generated by the Morse-Smale 
        complex module)
        - Input2 Persistence diagram (vtkUnstructuredGrid generated by the 
        Persistence diagram module)
        - Output Stable manifold with persistence and pair type
        
        This filter can be used as any other ParaView filter.
        
        See the related ParaView example state files for usage examples within a
        VTK pipeline.

        See also MorseSmaleComplex, PersistenceDiagram.
      </Documentation>

      <InputProperty
        name="Stable manifolds"
        port_index="0"
        command="SetInputConnection">
        <ProxyGroupDomain name="groups">
          <Group name="sources" />
          <Group name="filters" />
        </ProxyGroupDomain>
        <DataTypeDomain name="input_type">
          <DataType value="vtkDataSet" />
        </DataTypeDomain>
        <InputArrayDomain name="input_array" attribute_type="point" number_of_components="1" />
        <Documentation>
          vtkDataSet that represents stable manifolds (separatrices and
segments) obtained from the Morse-Smale complex module. This is typically any
of the three last outputs (`1-Separatrices`, or `2-Separatrices` or
`Segmentation`) of the Morse-Smale complex module.
        </Documentation>
      </InputProperty>

      <InputProperty
        name="Critical points"
        port_index="1"
        command="SetInputConnection">
        <ProxyGroupDomain name="groups">
          <Group name="sources" />
          <Group name="filters" />
        </ProxyGroupDomain>
        <DataTypeDomain name="input_type">
          <DataType value="vtkDataSet" />
        </DataTypeDomain>
        <InputArrayDomain name="input_array" attribute_type="point" number_of_components="1" />
        <Documentation>
          vtkPolyData that represents the critical cells of the data. This
is typically the first output (`Critical Points`) of the Morse-Smale complex
module.
        </Documentation>
      </InputProperty>

      <InputProperty
        name="Persistence diagram"
        port_index="2"
        command="SetInputConnection">
        <ProxyGroupDomain name="groups">
          <Group name="sources" />
          <Group name="filters" />
        </ProxyGroupDomain>
        <DataTypeDomain name="input_type">
          <DataType value="vtkDataSet" />
        </DataTypeDomain>
        <InputArrayDomain name="input_array" attribute_type="point" number_of_components="1" />
        <Documentation>
          vtkUnstructuredGrid that represents the persistence diagram of the
considered data set. This is typically the output of the Persistence Diagram
module.
        </Documentation>
      </InputProperty>
      
      <IntVectorProperty name="Unstable manifold"
                         command="SetIsUnstable"
                         number_of_elements="1"
                         default_values="0">
        <BooleanDomain name="bool"/>
        <Documentation>
          Indicate if the input manifolds should be interpreted as unstable 
manifolds.
        </Documentation>
      </IntVectorProperty>

      ${DEBUG_WIDGETS}

      <PropertyGroup panel_widget="Line" label="Input options">
        <Property name="Unstable manifold" />
      </PropertyGroup>

      <Hints>
        <ShowInMenu category="TTK - Scalar Data" />
      </Hints>
    </SourceProxy>
  </ProxyGroup>
</ServerManagerConfiguration>
